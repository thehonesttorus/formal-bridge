(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{1169:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},2529:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3294:(e,t,s)=>{Promise.resolve().then(s.bind(s,7726))},5626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6485:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7107:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},7682:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7726:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5155),i=s(2115),l=s(1075),c=s(7682),r=s(2619),n=s.n(r),d=s(5626),x=s(2529),m=s(7107),h=s(6485),o=s(7910),p=s(1169);let y=(0,s(1847).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var u=s(63),j=s(304),N=s(9368);function f(e){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function v(){let e=(0,c.useParams)().code,[t,s]=(0,i.useState)(!0),[r,v]=(0,i.useState)(!1),[g,b]=(0,i.useState)(null),[k,w]=(0,i.useState)(null);return(0,i.useEffect)(()=>{!async function(){if(e)try{let t=await fetch("/api/certificates/verify/".concat(e)),s=await t.json();s.valid?(v(!0),b(s.certificate)):(v(!1),w(s.error||"Certificate not found"))}catch(e){v(!1),w("Failed to verify certificate")}finally{s(!1)}}()},[e]),(0,a.jsxs)("main",{className:"bg-midnight min-h-screen selection:bg-teal selection:text-midnight relative",children:[(0,a.jsx)("div",{className:"fixed inset-0 z-0",children:(0,a.jsx)(N.default,{})}),(0,a.jsxs)("div",{className:"relative z-10 text-white",children:[(0,a.jsx)(u.default,{}),(0,a.jsx)("section",{className:"pt-40 pb-20 px-6",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)(n(),{href:"/",className:"inline-flex items-center gap-2 text-slate-500 hover:text-white transition-colors mb-8 text-sm font-light",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"Back to Home"]}),t?(0,a.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-teal border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-400 font-light",children:"Verifying certificate..."})]}):r&&g?(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:"border border-teal/30 p-8 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(x.A,{className:"w-8 h-8 text-teal"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-teal font-mono text-xs tracking-widest block",children:"VERIFIED"}),(0,a.jsx)("h1",{className:"text-2xl font-light text-white",children:"Audit Certificate Valid"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 text-slate-500"}),(0,a.jsx)("span",{className:"text-slate-400",children:"Verification Code:"}),(0,a.jsx)("span",{className:"font-mono text-teal",children:g.verificationCode})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-slate-500"}),(0,a.jsx)("span",{className:"text-slate-400",children:"Issued:"}),(0,a.jsx)("span",{className:"text-white",children:new Date(g.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-slate-500"}),(0,a.jsx)("span",{className:"text-slate-400",children:"Attested by:"}),(0,a.jsx)("span",{className:"text-white",children:g.attestedBy?"".concat(g.attestedBy," (on behalf of ").concat(g.ipName,")"):g.ipName})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-slate-500"}),(0,a.jsx)("span",{className:"text-slate-400",children:"Creditors Analyzed:"}),(0,a.jsx)("span",{className:"text-white",children:g.creditorCount})]})]})]}),(0,a.jsxs)("div",{className:"border border-slate-800/50 p-6",children:[(0,a.jsx)("h3",{className:"text-sm text-slate-400 font-medium mb-4",children:"Calculation Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-500",children:"Net Floating Charge Property"}),(0,a.jsx)("p",{className:"text-white font-medium",children:f(g.netFloatingChargeProperty)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-500",children:"Prescribed Part"}),(0,a.jsx)("p",{className:"text-teal font-medium",children:g.isDeMinimisApplied?"Waived":f(g.prescribedPart)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-500",children:"Floating Charge Date"}),(0,a.jsx)("p",{className:"text-white",children:new Date(g.floatingChargeDate).toLocaleDateString("en-GB")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-500",children:"Cap Applied"}),(0,a.jsx)("p",{className:"text-white",children:f(g.capApplied)})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-800/50",children:[(0,a.jsxs)("p",{className:"text-xs text-slate-600",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Input File Hash:"})," ",(0,a.jsx)("span",{className:"font-mono",children:g.inputFileHash})]}),(0,a.jsxs)("p",{className:"text-xs text-slate-600 mt-2",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Kernel:"})," ",(0,a.jsx)("span",{className:"font-mono",children:g.kernelVersion})]})]})]}):(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-20 border border-red-500/30",children:[(0,a.jsx)(y,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-light text-white mb-2",children:"Certificate Not Found"}),(0,a.jsx)("p",{className:"text-slate-400 font-light mb-6",children:k||"The verification code is invalid or the certificate does not exist."}),(0,a.jsx)(n(),{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Return to Home"})]})]})}),(0,a.jsx)(j.A,{})]})]})}},7910:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}},e=>{e.O(0,[297,258,745,441,255,358],()=>e(e.s=3294)),_N_E=e.O()}]);